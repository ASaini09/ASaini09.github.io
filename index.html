<!DOCTYPE html>
<html>
    <head>

        <meta charset=utf-8 />

        <title>Geoweb Application</title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        <!-- leaflet -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
		integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
		crossorigin=""/>

		<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
		integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
		crossorigin=""></script>

        <!-- paho library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>

    </head>

    <body>

        <h2> Turn your smartphone into a IoT Sensor!</h2>


        <!-- MQTT broker connection settings form -->
        <form id="connection-settings">
            <label for="broker-host">MQTT Broker Host:</label>
            <input type="text" id="broker-host" name="broker-host" value="test.mosquitto.org">

            <label for="broker-port">MQTT Broker Port:</label>
            <input type="text" id="broker-port" name="broker-port" value="8081">
        </form>
		
		<button id="start-con" class="btn btn-primary">Start Connection</button>
		<button id="end-con" class="btn btn-primary">End Connection</button>

        <!-- Map container -->
        <div id="map" style="height: 500px;"></div>

        <!-- JavaScript code -->
        <script>
            // Retrieve MQTT broker connection settings from the form
            //var brokerHost = document.getElementById("broker-host").value;
            //var brokerPort = document.getElementById("broker-port").value;

            // Create a new MQTT client instance
            //var client = new Paho.MQTT.Client(brokerHost, brokerPort, "clientId");

            // Set up Leaflet map
      		var map = L.map('map').setView([51.505, -0.09], 13);

			L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19, attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(map);

			map.setView([51.05, -114.070], 10);
			
			var start = 'No';
        </script>

    </body>

</html>
